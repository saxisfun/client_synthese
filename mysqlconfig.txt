
Pour cr√©er certificat et se connecter en sftp avec filezilla
openssl req -x509 -nodes -days 365 -newkey rsa:1024  -keyout /etc/vsftpd/vsftpd.pem -out /etc/vsftpd/vsftpd.pem

ssl_enable=YES
 allow_anon_ssl=NO
 force_local_data_ssl=NO
 #Pour forcer la connection sftp (ftp fonctionne pas)
 force_local_logins_ssl=YES
 ssl_tlsv1=YES
 ssl_sslv2=NO
 ssl_sslv3=NO
 rsa_cert_file=/etc/vsftpd/vsftpd.pem


cegep_oiseaux

CREATE TABLE tb_observations (obs_Id VARCHAR(20), obs_DateObservation VARCHAR(20), obs_Position_lat VARCHAR(20));

INSERT INTO tb_observations (obs_Id,obs_DateObservation,obs_Position_lat) VALUES("111111","1394148405287","47.7543");
INSERT INTO tb_observations (obs_Id,obs_DateObservation,obs_Position_lat) VALUES("222222","1384143205423","48.5321");
SELECT * FROM tb_observations;
GRANT ALL PRIVILEGES ON selectaldata.* TO druser@localhost IDENTIFIED BY 'saxophone';

198.100.145.177
CREATE USER 'user1_cegep'@'localhost' IDENTIFIED BY 'cegep1234';
GRANT ALL PRIVILEGES ON * . * TO 'user1_cegep'@'localhost';

SET PASSWORD FOR 'root'@'localhost' = PASSWORD("2ht45ey46r3ew3e");
SET PASSWORD FOR 'root'@'ns4001973.ip-198-100-145.net' = PASSWORD("2ht45ey46r3ew3e");
SET PASSWORD FOR 'root'@'127.0.0.1' = PASSWORD("2ht45ey46r3ew3e");
SET PASSWORD FOR ''@'localhost' = PASSWORD('2ht45ey46r3ew3e');
SET PASSWORD FOR ''@'ns4001973.ip-198-100-145.net' = PASSWORD("2ht45ey46r3ew3e");


SELECT User, Host, Password FROM mysql.user;

show databases;

use cegep_oiseaux;

http://justtrythis.blogspot.ca/2012/06/how-to-store-image-in-mysql.html

ALTER TABLE tb_observations ADD `obs_ImagePrincipale` mediumtext NOT NULL,
ALTER TABLE tb_observations ADD obs_ImagePrincipale mediumtext NOT NULL AFTER obs_Position_lat;
ALTER TABLE tb_observations ADD obs_Image_ascii mediumtext CHARACTER SET ascii AFTER obs_Position_lat;

`columnname` TEXT CHARACTER SET ascii,





CREATE TABLE `imageText` ( 
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `title` varchar(64) character SET utf8 NOT NULL,
  `type` varchar(20) ,
  `data` mediumtext NOT NULL,
  PRIMARY KEY  (`id`) 
);

--------------------------------------------------------------------------------
$username = "user1_cegep";
$password = "cegep1234";
$hostname = "localhost"; 

//connection to the database
$dbhandle = mysql_connect($hostname, $username, $password)
  or die("Unable to connect to MySQL");
echo "Connected to MySQL<br>";

$selected = mysql_select_db("cegep_oiseaux",$dbhandle)
  or die("Could not select examples");

$result = mysql_query("SELECT obs_Id, obs_DateObservation, obs_Position_lat FROM tb_observations");
//fetch tha data from the database
while ($row = mysql_fetch_array($result)) {
   echo "obs_Id:".$row{'obs_Id'}.", obs_DateObservation:".$row{'obs_DateObservation'}.", obs_Position_lat: ".$row{'obs_Position_lat'}."<br>";

}

ftp:anonyous@198.100.145.177

https://www.youtube.com/watch?v=2B4UGvjT42w



yum install vsftpd
chkconfig vsftpd on
service vsftpd start

verif si ftp fonctionne
netstat -ntl | grep 21
disable anonymous
rpm -qc vsftpd
nano /etc/vsftpd/vsftpd.conf
anonymous_enable=NO
service vsftpd restart

#Enable dual logging
nano /etc/vsftpd/vsftpd.conf
dual_log_enable=YES





Observation
Integer Id
Date DateObservation
Integer Position
Integer IDUsager
Integer IDOiseau



PhotoObservation
Integer Id
Byte[] Image
String Description
Integer IDObservation
Byte[] ImageMiniature
String Commentaire


